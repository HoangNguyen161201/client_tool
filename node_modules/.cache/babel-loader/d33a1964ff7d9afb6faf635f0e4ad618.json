{"ast":null,"code":"import _toConsumableArray from\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/learnWeb/reactjs/memories_project/client/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _objectSpread from\"C:/Users/hoang/OneDrive/M\\xE1y t\\xEDnh/learnWeb/reactjs/memories_project/client/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import actionpost from'../actions/index.js';import Axios from'axios';var oldState={data:[],error:false,search:''};export var reducer=function reducer(){var state=arguments.length>0&&arguments[0]!==undefined?arguments[0]:oldState;var action=arguments.length>1?arguments[1]:undefined;switch(action.type){case actionpost.getDataSuccess().type:return _objectSpread(_objectSpread({},state),{},{data:[].concat(_toConsumableArray(state.data),_toConsumableArray(action.payload))});case actionpost.getDataError().type:return _objectSpread(_objectSpread({},state),{},{error:false});case actionpost.find().type:return _objectSpread(_objectSpread({},state),{},{search:action.payload});case actionpost.delete().type:Axios.post('http://localhost:4000/post/DeleteElement',{_id:action.payload});var data1=state.data.filter(function(value){if(!value._id.toLowerCase().includes(action.payload)){return value;}return 0;});return _objectSpread(_objectSpread({},state),{},{data:data1});case actionpost.update().type:var data2=state.data.filter(function(value){if(value._id===action.payload._id){value.title=action.payload.title;value.content=action.payload.content;value.link=action.payload.link;if(action.payload.img!==undefined){value.img=action.payload.img;}return value;}else{return value;}});return _objectSpread(_objectSpread({},state),{},{data:data2});default:return state;}};","map":{"version":3,"sources":["C:/Users/hoang/OneDrive/Máy tính/learnWeb/reactjs/memories_project/client/src/redux/reducers/blog.js"],"names":["actionpost","Axios","oldState","data","error","search","reducer","state","action","type","getDataSuccess","payload","getDataError","find","delete","post","_id","data1","filter","value","toLowerCase","includes","update","data2","title","content","link","img","undefined"],"mappings":"2UAAA,MAAOA,CAAAA,UAAP,KAAuB,qBAAvB,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,GAAMC,CAAAA,QAAQ,CAAG,CACbC,IAAI,CAAC,EADQ,CAEbC,KAAK,CAAE,KAFM,CAGbC,MAAM,CAAC,EAHM,CAAjB,CAKA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,EAA4B,IAA3BC,CAAAA,KAA2B,2DAAnBL,QAAmB,IAATM,CAAAA,MAAS,2CAC/C,OAAQA,MAAM,CAACC,IAAf,EACI,IAAKT,CAAAA,UAAU,CAACU,cAAX,GAA4BD,IAAjC,CACI,sCACOF,KADP,MAEIJ,IAAI,8BAAMI,KAAK,CAACJ,IAAZ,qBAAoBK,MAAM,CAACG,OAA3B,EAFR,GAIJ,IAAKX,CAAAA,UAAU,CAACY,YAAX,GAA0BH,IAA/B,CACI,sCACOF,KADP,MAEIH,KAAK,CAAE,KAFX,GAIJ,IAAKJ,CAAAA,UAAU,CAACa,IAAX,GAAkBJ,IAAvB,CACI,sCACOF,KADP,MAEIF,MAAM,CAAEG,MAAM,CAACG,OAFnB,GAIJ,IAAKX,CAAAA,UAAU,CAACc,MAAX,GAAoBL,IAAzB,CACIR,KAAK,CAACc,IAAN,CAAW,0CAAX,CAAsD,CAClDC,GAAG,CAAER,MAAM,CAACG,OADsC,CAAtD,EAIA,GAAMM,CAAAA,KAAK,CAAGV,KAAK,CAACJ,IAAN,CAAWe,MAAX,CAAkB,SAAAC,KAAK,CAAE,CACnC,GAAG,CAACA,KAAK,CAACH,GAAN,CAAUI,WAAV,GAAwBC,QAAxB,CAAiCb,MAAM,CAACG,OAAxC,CAAJ,CAAqD,CACjD,MAAOQ,CAAAA,KAAP,CACH,CACD,MAAO,EAAP,CACH,CALa,CAAd,CAMA,sCACOZ,KADP,MAEIJ,IAAI,CAAEc,KAFV,GAIJ,IAAKjB,CAAAA,UAAU,CAACsB,MAAX,GAAoBb,IAAzB,CAEI,GAAMc,CAAAA,KAAK,CAAGhB,KAAK,CAACJ,IAAN,CAAWe,MAAX,CAAkB,SAAAC,KAAK,CAAE,CACnC,GAAGA,KAAK,CAACH,GAAN,GAAcR,MAAM,CAACG,OAAP,CAAeK,GAAhC,CAAoC,CAChCG,KAAK,CAACK,KAAN,CAAchB,MAAM,CAACG,OAAP,CAAea,KAA7B,CACAL,KAAK,CAACM,OAAN,CAAgBjB,MAAM,CAACG,OAAP,CAAec,OAA/B,CACAN,KAAK,CAACO,IAAN,CAAalB,MAAM,CAACG,OAAP,CAAee,IAA5B,CACA,GAAGlB,MAAM,CAACG,OAAP,CAAegB,GAAf,GAAuBC,SAA1B,CAAoC,CAChCT,KAAK,CAACQ,GAAN,CAAYnB,MAAM,CAACG,OAAP,CAAegB,GAA3B,CACH,CACD,MAAOR,CAAAA,KAAP,CACH,CARD,IASI,CACA,MAAOA,CAAAA,KAAP,CACH,CACJ,CAba,CAAd,CAcA,sCACOZ,KADP,MAEIJ,IAAI,CAAEoB,KAFV,GAIJ,QACI,MAAOhB,CAAAA,KAAP,CApDR,CAsDH,CAvDM","sourcesContent":["import actionpost from '../actions/index.js';\r\nimport Axios from 'axios';\r\nconst oldState = {\r\n    data:[],\r\n    error: false,\r\n    search:''\r\n}\r\nexport const reducer = (state = oldState, action)=>{\r\n    switch (action.type) {\r\n        case actionpost.getDataSuccess().type:\r\n            return {\r\n                ...state,\r\n                data: [...state.data,...action.payload],\r\n            };\r\n        case actionpost.getDataError().type:\r\n            return {\r\n                ...state,\r\n                error: false,\r\n            };      \r\n        case actionpost.find().type:\r\n            return {\r\n                ...state,\r\n                search: action.payload,\r\n            }; \r\n        case actionpost.delete().type:\r\n            Axios.post('http://localhost:4000/post/DeleteElement',{\r\n                _id: action.payload\r\n            });\r\n          \r\n            const data1 = state.data.filter(value=>{\r\n                if(!value._id.toLowerCase().includes(action.payload)){\r\n                    return value;\r\n                }\r\n                return 0;\r\n            })\r\n            return {\r\n                ...state,\r\n                data: data1,\r\n            }; \r\n        case actionpost.update().type:\r\n           \r\n            const data2 = state.data.filter(value=>{\r\n                if(value._id === action.payload._id){\r\n                    value.title = action.payload.title;\r\n                    value.content = action.payload.content;\r\n                    value.link = action.payload.link;\r\n                    if(action.payload.img !== undefined){\r\n                        value.img = action.payload.img;\r\n                    }\r\n                    return value;\r\n                }\r\n                else{\r\n                    return value;\r\n                }\r\n            })\r\n            return {\r\n                ...state,\r\n                data: data2,\r\n            }; \r\n        default:\r\n            return state;\r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}